# 03. Lambda and H-O Functions

repo: https://github.com/eljay0921/toy-projects/tree/main/java-kotlin-project

---

## (1) Lambda ì„ ì–¸ 

### java

```java
// í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ ì •ì˜
@FunctionalInterface
interface Calculator {
    int calculate(int a, int b);
}

@FunctionalInterface
interface Printer {
    void print(String message);
}

// ì‚¬ìš©
public class LambdaExample {
    public static void main(String[] args) {
        // ëŒë‹¤ í‘œí˜„ì‹
        Calculator add = (a, b) -> a + b;
        Calculator multiply = (a, b) -> a * b;
        
        System.out.println(add.calculate(5, 3));      // 8
        System.out.println(multiply.calculate(5, 3)); // 15
        
        // ì—¬ëŸ¬ ì¤„ ëŒë‹¤
        Calculator complexCalc = (a, b) -> {
            int result = a + b;
            result *= 2;
            return result;
        };
        
        // ë§¤ê°œë³€ìˆ˜ê°€ ì—†ëŠ” ëŒë‹¤
        Runnable task = () -> System.out.println("Hello");
        
        // ë§¤ê°œë³€ìˆ˜ê°€ í•˜ë‚˜ì¸ ëŒë‹¤
        Printer printer = message -> System.out.println(message);
    }
}
```

### kotlin

```kotlin
// í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ í•„ìš” ì—†ìŒ! í•¨ìˆ˜ íƒ€ì… ì§ì ‘ ì‚¬ìš©
fun main() {
    // ëŒë‹¤ í‘œí˜„ì‹
    val add: (Int, Int) -> Int = { a, b -> a + b }
    val multiply = { a: Int, b: Int -> a * b }  // íƒ€ì… ì¶”ë¡ 
    
    println(add(5, 3))      // 8
    println(multiply(5, 3)) // 15
    
    // ì—¬ëŸ¬ ì¤„ ëŒë‹¤ (ë§ˆì§€ë§‰ í‘œí˜„ì‹ì´ ë°˜í™˜ê°’)
    val complexCalc = { a: Int, b: Int ->
        val result = a + b
        result * 2  // return í‚¤ì›Œë“œ ì—†ì´ ë°˜í™˜
    }
    
    // ë§¤ê°œë³€ìˆ˜ê°€ ì—†ëŠ” ëŒë‹¤
    val task: () -> Unit = { println("Hello") }
    
    // ë§¤ê°œë³€ìˆ˜ê°€ í•˜ë‚˜ì¸ ëŒë‹¤ - it ì‚¬ìš©
    val printer: (String) -> Unit = { println(it) }
    
    // ëª…ì‹œì ìœ¼ë¡œ ì´ë¦„ ì§€ì •ë„ ê°€ëŠ¥
    val printerWithName: (String) -> Unit = { message -> 
        println(message) 
    }
}
```

### ğŸ“ ì£¼ìš” ì°¨ì´ì 

- **í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ ë¶ˆí•„ìš”**: `(Int, Int) -> Int` ê°™ì€ í•¨ìˆ˜ íƒ€ì… ì§ì ‘ ì‚¬ìš©
- **it í‚¤ì›Œë“œ**: ë‹¨ì¼ ë§¤ê°œë³€ìˆ˜ ëŒë‹¤ì—ì„œ ìë™ ìƒì„±
- **ë§ˆì§€ë§‰ í‘œí˜„ì‹ì´ ìë™ ë°˜í™˜**: `return` í‚¤ì›Œë“œ ìƒëµ ê°€ëŠ¥

---

## (2) ê³ ì°¨ í•¨ìˆ˜

### java

```java
// í•¨ìˆ˜ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ëŠ” ë©”ì„œë“œ
public class HigherOrderExample {
    // ê³ ì°¨ í•¨ìˆ˜ ì •ì˜
    public static int operation(int a, int b, Calculator calc) {
        return calc.calculate(a, b);
    }
    
    // í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œ
    public static Calculator getOperation(String type) {
        switch (type) {
            case "add":
                return (a, b) -> a + b;
            case "multiply":
                return (a, b) -> a * b;
            default:
                return (a, b) -> 0;
        }
    }
    
    public static void main(String[] args) {
        // ëŒë‹¤ë¥¼ ì¸ìë¡œ ì „ë‹¬
        int result1 = operation(10, 5, (a, b) -> a + b);
        int result2 = operation(10, 5, (a, b) -> a * b);
        
        System.out.println(result1);  // 15
        System.out.println(result2);  // 50
        
        // í•¨ìˆ˜ë¥¼ ë°˜í™˜ë°›ì•„ ì‚¬ìš©
        Calculator adder = getOperation("add");
        System.out.println(adder.calculate(7, 3));  // 10
    }
}
```

### kotlin

```kotlin
// í•¨ìˆ˜ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ëŠ” í•¨ìˆ˜
fun operation(a: Int, b: Int, calc: (Int, Int) -> Int): Int {
    return calc(a, b)
}

// ë” ê°„ê²°í•˜ê²Œ
fun operation(a: Int, b: Int, calc: (Int, Int) -> Int) = calc(a, b)

// í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜
fun getOperation(type: String): (Int, Int) -> Int {
    return when (type) {
        "add" -> { a, b -> a + b }
        "multiply" -> { a, b -> a * b }
        else -> { _, _ -> 0 }
    }
}

fun main() {
    // ëŒë‹¤ë¥¼ ì¸ìë¡œ ì „ë‹¬
    val result1 = operation(10, 5) { a, b -> a + b }
    val result2 = operation(10, 5) { a, b -> a * b }
    
    println(result1)  // 15
    println(result2)  // 50
    
    // í•¨ìˆ˜ë¥¼ ë°˜í™˜ë°›ì•„ ì‚¬ìš©
    val adder = getOperation("add")
    println(adder(7, 3))  // 10
}
```

### ğŸ“ ì£¼ìš” ì°¨ì´ì 

- **Trailing lambda**: ë§ˆì§€ë§‰ ë§¤ê°œë³€ìˆ˜ê°€ ëŒë‹¤ë©´ ê´„í˜¸ ë°–ìœ¼ë¡œ ë¹¼ë‚¼ ìˆ˜ ìˆìŒ
- **í•¨ìˆ˜ íƒ€ì…ì´ ì¼ê¸‰ ì‹œë¯¼**: ë” ìì—°ìŠ¤ëŸ¬ìš´ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°

---

## (2) Collection ì²˜ë¦¬

### java (stream)

```java
import java.util.*;
import java.util.stream.*;

public class CollectionExample {
    public static void main(String[] args) {
        List<Integer> numbers = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);
        
        // filter: ì§ìˆ˜ë§Œ ì„ íƒ
        List<Integer> evenNumbers = numbers.stream()
            .filter(n -> n % 2 == 0)
            .collect(Collectors.toList());
        
        // map: ê° ìš”ì†Œë¥¼ ì œê³±
        List<Integer> squared = numbers.stream()
            .map(n -> n * n)
            .collect(Collectors.toList());
        
        // filter + map ì¡°í•©
        List<Integer> evenSquared = numbers.stream()
            .filter(n -> n % 2 == 0)
            .map(n -> n * n)
            .collect(Collectors.toList());
        
        // reduce: í•©ê³„ êµ¬í•˜ê¸°
        int sum = numbers.stream()
            .reduce(0, (a, b) -> a + b);
        
        // forEach: ê° ìš”ì†Œ ì¶œë ¥
        numbers.stream()
            .forEach(n -> System.out.println(n));
        
        // ë³µì¡í•œ ì˜ˆì œ: ì§ìˆ˜ì˜ ì œê³±ì˜ í•©
        int result = numbers.stream()
            .filter(n -> n % 2 == 0)
            .map(n -> n * n)
            .reduce(0, Integer::sum);
        
        System.out.println(result);  // 220
    }
}
```

### kotlin

```kotlin
fun main() {
    val numbers = listOf(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
    
    // filter: ì§ìˆ˜ë§Œ ì„ íƒ
    val evenNumbers = numbers.filter { it % 2 == 0 }
    
    // map: ê° ìš”ì†Œë¥¼ ì œê³±
    val squared = numbers.map { it * it }
    
    // filter + map ì¡°í•©
    val evenSquared = numbers
        .filter { it % 2 == 0 }
        .map { it * it }
    
    // reduce: í•©ê³„ êµ¬í•˜ê¸°
    val sum = numbers.reduce { acc, n -> acc + n }
    // ë˜ëŠ” ë” ê°„ë‹¨í•˜ê²Œ
    val sum2 = numbers.sum()
    
    // forEach: ê° ìš”ì†Œ ì¶œë ¥
    numbers.forEach { println(it) }
    
    // ë³µì¡í•œ ì˜ˆì œ: ì§ìˆ˜ì˜ ì œê³±ì˜ í•©
    val result = numbers
        .filter { it % 2 == 0 }
        .map { it * it }
        .sum()
    
    println(result)  // 220
    
    // ì¶”ê°€: any, all, none
    val hasEven = numbers.any { it % 2 == 0 }      // true
    val allPositive = numbers.all { it > 0 }       // true
    val noNegative = numbers.none { it < 0 }       // true
}
```

### ğŸ“ ì£¼ìš” ì°¨ì´ì 

- **stream() ë¶ˆí•„ìš”**: ì»¬ë ‰ì…˜ì— ì§ì ‘ ê³ ì°¨ í•¨ìˆ˜ ì ìš©
- **collect() ë¶ˆí•„ìš”**: ìë™ìœ¼ë¡œ ìƒˆ ì»¬ë ‰ì…˜ ë°˜í™˜
- **í›¨ì”¬ ê°„ê²°í•œ ë¬¸ë²•**: `it` í‚¤ì›Œë“œì™€ ê°„ë‹¨í•œ ë©”ì„œë“œ í˜¸ì¶œ

---

